#include <stdlib.h>#include "AliyunIOT.h"#include "loraDealDat.h"#include "pub.h"#include "mqtt.h"//上报格式//{"id":1626776850733,"params":{"DO3_0":0,"temp_1":35.3},"version":"1.0","method":"thing.event.property.post"}u16 SetRegDatToAli(u8 *InBuf,u8 *Index){	u16 len = 0;	len = sprintf((char*)InBuf,"{\"id\":%d%d,\"params\":{",calendar.min,calendar.sec);	//len += AliSetRepBuf(&InBuf[len],Index);	len += MqttSetRepBuf(&InBuf[len],Index);	len += sprintf((char*)&InBuf[len],",\"version\":\"1.0\",\"method\":\"thing.event.property.post\"}");	return len;}/*	DO控制响应*/u8 AliyunSendDOResp(u8 *DevId,u8 *no,u8 *mBuf){	u8 len;	len = sprintf((char*)mBuf,"{\"id\":%d%d,\"params\":{",calendar.min,calendar.sec);	for(u8 i = 0; i < DevId[10]; i++)	{		len += sprintf((char*)&mBuf[len],"\"DO%d_%d\":%d,",DevId[i],no[i],DevRegVal[(DevId[i]-1) * 7 + no[i] % 2]);	}	mBuf[len - 1] = '}';	len += sprintf((char*)&mBuf[len],",\"version\":\"1.0\"}");	return len;}